(this["webpackJsonplawyers-list"]=this["webpackJsonplawyers-list"]||[]).push([[0],{11:function(e,r,t){e.exports={Container:"App_Container__10KOh",error:"App_error__1umzI"}},13:function(e,r,t){e.exports={ImportUsers:"ImportUsers_ImportUsers__20WwI"}},23:function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),i=t(12),l=t.n(i),s=t(4),u=t(5),o=t(7),c=t(6),d=t(16),p=t(2),h=t(10),f=[{key:"name",getValue:g},{key:"phone",getValue:g},{key:"email",getValue:g},{key:"age",getValue:m},{key:"experience",getValue:m},{key:"income",getValue:m},{key:"hasChildren",getValue:function(e){try{return JSON.parse(e||"false")}catch(r){return e}}},{key:"states",getValue:function(e){return e.split("|")}},{key:"expires",getValue:j},{key:"license",getValue:j}];function b(e){return e.trim().split("\n").map((function(e,r){return e.split(",").reduce((function(e,r,t){var n=f[t];return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},n.key,n.getValue(r.trim())))}),{id:r+1})}))}function m(e){return e?Number(e):e}function j(e){return e}function g(e){if(!e)throw new Error;return e}var y=t(13),V=t.n(y),v=t(0),x=function(e){Object(o.a)(t,e);var r=Object(c.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).fileReader=new FileReader,e.handleReaderException=function(){e.props.onError()},e.handleReaderResult=function(){var r=e.props,t=r.onError,n=r.onChange;try{n(b(e.fileReader.result))}catch(a){t()}},e.handleChange=function(r){var t=Object(d.a)(r.target.files,1)[0];e.fileReader.readAsText(t),r.target.value=null},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fileReader.onload=this.handleReaderResult,this.fileReader.onerror=this.handleReaderException}},{key:"render",value:function(){return Object(v.jsxs)("label",{className:V.a.ImportUsers,children:["Import users",Object(v.jsx)("input",{type:"file",style:{display:"none"},onChange:this.handleChange})]})}}]),t}(a.a.Component),O=t(14),_=t.n(O),C=t(15),k=t(8),D=t.n(k);var w=[{label:"ID",getDisplayValue:function(e){return e.id},isValid:function(){return!0}},{label:"Full Name",getDisplayValue:function(e){return e.name},isValid:function(){return!0}},{label:"Phone",getDisplayValue:function(e){if(!this.isValid(e))return e.phone;var r=e.phone.padStart(12,"*").substr(2);return"+1".concat(r)},isValid:function(e){return r=e.phone,/^(\+1|1)?\d{10}$/.test(r);var r}},{label:"Email",getDisplayValue:function(e){return e.email},isValid:function(e){return r=e.email,C.validate(r);var r}},{label:"Age",getDisplayValue:function(e){return e.age},isValid:function(e){return""===(r=e.age)||Number.isInteger(r)&&r>=21;var r}},{label:"Experience",getDisplayValue:function(e){return e.experience},isValid:function(e){return r=e.experience,t=e.age,""===r||r>=0&&t-r>=0;var r,t}},{label:"Yearly Income",getDisplayValue:function(e){return e.income&&e.income.toFixed(2)},isValid:function(e){return""===(r=e.income)||r<=1e6;var r}},{label:"Has children",getDisplayValue:function(e){return this.isValid(e)?e.hasChildren.toString().toUpperCase():e.hasChildren},isValid:function(e){return""===(r=e.hasChildren)||"boolean"===typeof r;var r}},{label:"License states",getDisplayValue:function(e){return e.states.join(", ")},isValid:function(){return!0}},{label:"Expiration date",getDisplayValue:function(e){return e.expires},isValid:function(e){return""===(r=e.expires)||!![/^\d{2}\/\d{2}\/\d{4}$/,/^\d{4}-\d{2}-\d{2}$/].some((function(e){return e.test(r)}))&&!!D()(r).isValid()&&D()(r)-D()()>0;var r}},{label:"License number",getDisplayValue:function(e){return e.license},isValid:function(e){return""===(r=e.license)||/^[\d\w]{6}$/.test(r);var r}},{label:"Duplicate with",getDisplayValue:function(e,r,t){var n=t.find((function(r){return r.id!==e.id&&["phone","email"].some((function(t){return e[t].toLowerCase()===r[t].toLowerCase()}))}));return n?n.id:null},isValid:function(){return!0}}],U=t(3),I=t.n(U);var E=function(e){var r=e.users;return r?Object(v.jsxs)("table",{className:I.a.UserList,children:[Object(v.jsx)("thead",{className:I.a.header,children:Object(v.jsx)("tr",{children:w.map((function(e,r){return Object(v.jsx)("th",{className:I.a.cell,children:e.label},r)}))})}),Object(v.jsx)("tbody",{children:r.map((function(e,r,t){return Object(v.jsx)("tr",{children:w.map((function(n,a){return Object(v.jsx)("td",{className:_()(I.a.cell,Object(p.a)({},I.a.error,!n.isValid(e))),children:n.getDisplayValue(e,r,t)},a)}))},e.id)}))})]}):null},R=t(11),L=t.n(R),N=function(e){Object(o.a)(t,e);var r=Object(c.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).state={users:null,error:null},e.handleImportError=function(){e.setState({error:!0})},e.handleUsersChange=function(r){e.setState({users:r,error:null})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state,r=e.error,t=e.users;return Object(v.jsxs)("div",{className:L.a.Container,children:[Object(v.jsx)(x,{onChange:this.handleUsersChange,onError:this.handleImportError}),r?Object(v.jsx)("div",{className:L.a.error,children:Object(v.jsx)("p",{children:"File format is not correct"})}):Object(v.jsx)(E,{users:t})]})}}]),t}(a.a.Component);l.a.render(Object(v.jsx)(N,{}),document.getElementById("root"))},3:function(e,r,t){e.exports={UserList:"UserList_UserList__1BpuM",header:"UserList_header__3YhTl",cell:"UserList_cell__2VY16",error:"UserList_error__1_B5V"}}},[[23,1,2]]]);
//# sourceMappingURL=main.fb6f91f7.chunk.js.map